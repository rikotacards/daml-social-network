module Payment where


template Payable with
    to: Party
    from: Party
  
  where 
    signatory from
    observer to
  
template Balance with
    username: Party
    amount: Decimal
    currency: Text
    
  where 
    signatory username

    key username: Party
    maintainer key

    choice IncreaseBalance: ContractId Balance
      with
        payer: Party
        amountToPay: Decimal
      controller payer
      do
        create this with
          amount = amount + amountToPay






